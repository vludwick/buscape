{"version":3,"sources":["main.js"],"names":["$","document","ready","Vue","data","items","name","images","price","value","installments","best","favorite","installmentValue","id","carrinho","computed","subtotal","produto","cont","parcelas","this","length","total","findItem","qtde","numParcelas","valorParcelas","cart","quantidade","changeImage","indexImage","indexProd","element","methods","item","image","indexOf","attr","toggleFavorite","index","addItem","findIndex","removeItem","splice","push","filter","moeda","newValor","valor","toFixed","String","replace","delay","on","event","toggleClass","setTimeout","preventDefault"],"mappings":"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","file":"main.js","sourcesContent":["$(document).ready(function() {\r\n  new Vue({\r\n    el: \"#app\",\r\n    data: {\r\n      items: [\r\n        {\r\n          id: 2321312,\r\n          name: \"Smartphone Apple iPhone 7 128GB\",\r\n          images: [\r\n            \"https://thumbs.buscape.com.br/celular-e-smartphone/smartphone-apple-iphone-7-128gb_600x600-PU98460_1.jpg\",\r\n            \"https://thumbs.buscape.com.br/celular-e-smartphone/smartphone-apple-iphone-7-128gb/__200x400-PU98460_2_c.jpg?v=2347575274\",\r\n            \"https://thumbs.buscape.com.br/celular-e-smartphone/smartphone-apple-iphone-7-128gb/__200x400-PU98460_3_c.jpg?v=318433138\",\r\n            \"https://thumbs.buscape.com.br/celular-e-smartphone/smartphone-apple-iphone-7-128gb/__200x400-PU98460_4_c.jpg?v=33273730\"\r\n          ],\r\n          price: {\r\n            value: 3509.1,\r\n            installments: 10,\r\n            installmentValue: 389.9,\r\n            best: true\r\n          },\r\n          favorite: true\r\n        },\r\n        {\r\n          id: 9971,\r\n          name: \"Smart TV Samsung Série 4 UN32J4300AG 32 polegadas LED Plana\",\r\n          images: [\r\n            \"https://mthumbs.buscape.com.br/tv/smart-tv-samsung-serie-4-un32j4300ag-32-polegadas-led-plana_600x600-PU95547_1.jpg\",\r\n            \"https://thumbs.buscape.com.br/__400x400-PU95547_2_c.jpg?v=3988579075\",\r\n            \"https://thumbs.buscape.com.br/__400x400-PU95547_4_c.jpg?v=4208003525\",\r\n            \"https://thumbs.buscape.com.br/__231312400x400-PU95547_5_c.jpg?v=1473261122\"\r\n          ],\r\n          price: {\r\n            value: 1139.9,\r\n            installments: 10,\r\n            installmentValue: 134.11,\r\n            best: true\r\n          },\r\n          favorite: false\r\n        },\r\n        {\r\n          id: 6717131,\r\n          name: \"Câmera Digital Canon EOS Rebel T5i 18.0 Megapixels\",\r\n          images: [\r\n            \"https://mthumbs.buscape.com.br/camera-digital/canon-eos-rebel-t5i-18-0-megapixels_600x600-PU7bf7b_1.jpg\"\r\n          ],\r\n          price: {\r\n            value: 1999.2,\r\n            installments: 10,\r\n            installmentValue: 235.2,\r\n            best: true\r\n          },\r\n          favorite: false\r\n        },\r\n        {\r\n          id: 6717132,\r\n          name:\r\n            \"Lenovo IdeaPad 310 80UH0004BR Intel Core i7-6500U 2.5 GHz 8192 MB 1024 GB\",\r\n          images: [\r\n            \"https://mthumbs.buscape.com.br/notebook/lenovo-ideapad-310-80uh0004br-intel-core-i7-6500u-2-5-ghz-8192-mb-1024-gb_600x600-PU98e6e_1.jpg\"\r\n          ],\r\n          price: {\r\n            value: 2599.0,\r\n            installments: 10,\r\n            installmentValue: 259.9,\r\n            best: false\r\n          },\r\n          favorite: true\r\n        }\r\n      ],\r\n      carrinho: []\r\n    },\r\n    computed: {\r\n      subtotal: function() {\r\n        var total = 0;\r\n        var items = this.carrinho;\r\n        var produto;\r\n        if (items.length == 0) {\r\n          return 0;\r\n        }\r\n        for (var cont = 0; cont < items.length; cont++) {\r\n          produto = this.findItem(items[cont].id);\r\n          total += produto[0].price.value * items[cont].qtde;\r\n        }\r\n        return total;\r\n      },\r\n      numParcelas: function() {\r\n        var items = this.carrinho;\r\n        var parcelas;\r\n        var produto;\r\n        if (items.length == 0) {\r\n          return 0;\r\n        }\r\n        for (var cont = 0; cont < items.length; cont++) {\r\n          produto = this.findItem(items[cont].id);\r\n          if (cont == 0) {\r\n            parcelas = produto[0].price.installments;\r\n          } else {\r\n            if (parcelas > produto[0].price.installments) {\r\n              parcelas = produto[0].price.installments;\r\n            }\r\n          }\r\n        }\r\n        return parcelas;\r\n      },\r\n      valorParcelas: function() {\r\n        if (this.subtotal == 0) {\r\n          return 0;\r\n        }\r\n        return this.subtotal / this.numParcelas;\r\n      },\r\n      quantidade: function() {\r\n        var cart = this.carrinho;\r\n        var qtde = 0;\r\n        var cont = 0;\r\n        var len = cart.length;\r\n        for (cont; cont < len; cont++) {\r\n          qtde += cart[cont].qtde;\r\n        }\r\n        return qtde;\r\n      }\r\n    },\r\n    methods: {\r\n      changeImage(produto, image) {\r\n        var indexImage = produto.images.indexOf(image);\r\n        var indexProd = this.items.indexOf(produto);\r\n        var element = $(\".image-main>img\")[indexProd];\r\n        $(element).attr(\"src\", this.items[indexProd].images[indexImage]);\r\n      },\r\n      toggleFavorite(item) {\r\n        if (item.favorite == true) {\r\n          item.favorite = false;\r\n        } else {\r\n          item.favorite = true;\r\n        }\r\n      },\r\n      addItem(produto) {\r\n        var index = this.carrinho.findIndex(item => {\r\n          return item.id == produto.id;\r\n        });\r\n        if (index >= 0) {\r\n          this.alterQuantity(index, 1);\r\n        } else {\r\n          var item = {\r\n            id: produto.id,\r\n            qtde: 1,\r\n            total: produto.price.value * 1\r\n          };\r\n          this.carrinho.push(item);\r\n        }\r\n      },\r\n      removeItem(index) {\r\n        var items = this.carrinho;\r\n        items.splice(index, 1);\r\n      },\r\n      findItem(id) {\r\n        var produto = this.items.filter(item => {\r\n          return item.id == id;\r\n        });\r\n        return produto;\r\n      },\r\n      alterQuantity(index, qtde) {\r\n        var item = this.carrinho[index];\r\n        item.qtde += qtde;\r\n        item.total = item.qtde * this.findItem(item.id)[0].price.value;\r\n      }\r\n    },\r\n    filters: {\r\n      moeda(valor) {\r\n        var newValor = valor.toFixed(2);\r\n        newValor = String(newValor);\r\n        newValor = newValor.replace(\".\", \",\");\r\n        return newValor;\r\n      },\r\n      quantidade(qtde) {\r\n        if (qtde > 9) {\r\n          return \"+9\";\r\n        } else {\r\n          return qtde;\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  var delay = false;\r\n  $(\".header--toggle\").on(\"click\", function(event) {\r\n    if (!delay) {\r\n      delay = true;\r\n      $(this).toggleClass(\"open\");\r\n      $(\"body\").toggleClass(\"blocked\");\r\n      setTimeout(function() {\r\n        delay = false;\r\n      }, 350);\r\n    }\r\n  });\r\n\r\n  $(\"img\").on(\"error\", function(event) {\r\n    $(this).attr(\"src\", \"./dist/img/not-found.png\");\r\n  });\r\n\r\n  $(\".produto--descricao>p>a\").on(\"click\", function(event) {\r\n    event.preventDefault();\r\n  });\r\n});\r\n"]}